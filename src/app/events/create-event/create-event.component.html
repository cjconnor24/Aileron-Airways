<div class="modal">
  <div class="modal-content">

    <span class="close" routerLink="../../">&times;</span>

    <h1>Create Event</h1>


    <a routerLink="../../" class="button button-primary">
      <i class="fas fa-arrow-left"></i>Return to Timeline</a>

    <form [formGroup]="createEvent" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="six columns">

          <!-- <div class="event-info" *ngIf="editMode">
              <h1>{{ event.title}}</h1>
              <p><i class="fas fa-clock"></i> <strong>Date/Time: </strong> 
                {{ event.dateTime | date: 'medium' }}</p>
          </div> -->

          <label for="name">Event Name</label>
          <input class="u-full-width" type="text" formControlName="title" placeholder="Event A" id="name" required>

          <label for="date">Event Date</label>
          <input class="u-full-width" type="datetime-local" formControlName="datetime" placeholder="HH:MM DD/MM/YYYY" id="date" required>

          <label for="description">Event Description</label>
          <textarea class="u-full-width" type="text" formControlName="description" placeholder="Please enter a desciption" id="description"
            required></textarea>

            <app-spinner *ngIf="!linkedLoaded" [small]="true"></app-spinner>

          <div *ngIf="currentTimeline?.events !== null">
            <label for="events">Related Events</label>
            <select class="u-full-width" *ngIf="linkedLoaded" id="exampleRecipientInput">
              <option value="">Selected linked event</option>
              <option *ngFor="let levent of currentTimeline.events" value="{{levent.eventId}}">{{levent.title}} [{{levent.eventId.substring(0,8) | uppercase}}]</option>
            </select>
          </div>
          <!-- <input class="u-full-width" type="text" placeholder="Event B" id="events"> -->

          <label for="attachments">Event Attachments</label>
          <input class="u-full-width" type="file" placeholder="mydoc.docx" id="attachments">
          <button type="button">
            <i class="fas fa-upload"></i> Upload Attachment</button>
          <button type="button">
            <i class="fas fa-eye"></i> View Attachment</button>
          <button type="button">
            <i class="fas fa-trash-alt"></i> Remove Attachment</button>

          <!-- <input class="u-full-width" type="text" placeholder="G4 0BA" id="location" required> -->
          <!-- <button type="button"><i class="fas fa-plus"></i> Add Location</button>
      <button type="button"><i class="fas fa-minus"></i> Remove Location</button> -->
        </div>


        <div class="six columns">
          <label for="location">Location Name</label>
          <input type="text" formControlName="location" class="u-full-width" name="location">
          

          <label><i class="fas fa-map-marker-alt"></i> Event Location</label>
          <p>Please drop the location marker on the map below.</p>
          <div class="map-wrapper">
            <app-map (droppedPin)="getLocation($event)"></app-map>
          </div>
        </div>

      </div>

      <button *ngIf="!updated" type="button" routerLink="../../">Cancel</button>
      <input *ngIf="!updated" type="submit" [disabled]="createEvent.invalid || eventLocation === null" [ngClass]="{'button-success':!createEvent.invalid}"
        value="{{editMode ? 'Update Event' : 'Create Event'}}">

      <div *ngIf="updated">

        <button class="button" routerLink="../">Return to Timelines</button>

        <p>
          <i class="fas fa-check"></i> API CALL COMPELTE</p>
      </div>


    </form>
  </div>
</div>